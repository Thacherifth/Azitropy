<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Statistiques du Quiz</title>
</head>
<body>
    <h1>Statistiques</h1>
    {% for stat in stats %}
        <div>
            <h3>{{ loop.index }}. {{ stat.question }}</h3>
            <ul>
                {% for i, choice in enumerate(stat.choices) %}
                    <li>{{ choice }} : {{ stat.counts.get(i, 0) }} réponse(s)
                        {% if i == stat.correct %} ✅ (Bonne réponse) {% endif %}
                    </li>
                {% endfor %}
            </ul>
            <p><strong>Explication :</strong> {{ stat.explanation }}</p>
            <h4>Détails :</h4>
            <ul>
                {% for detail in stat.details %}
                    <li>{{ detail.name }} → {{ stat.choices[detail.answer_index] }}</li>
                {% endfor %}
            </ul>
        </div>
        <hr>
    {% endfor %}
</body>
</html>
